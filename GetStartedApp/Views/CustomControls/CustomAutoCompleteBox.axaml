<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:GetStartedApp.Views.CustomControls"
             x:Class="GetStartedApp.Views.CustomControls.CustomAutoCompleteBox"
             x:Name="Root"
			 x:DataType="local:CustomAutoCompleteBox"
			 x:CompileBindings="True">
	<StackPanel >
		<TextBox x:Name="SearchTextBox"
				 Text="{Binding SearchText, ElementName=Root, Mode=TwoWay}"
				 Watermark="Type to search..." />
		
		<Popup IsOpen="{Binding IsListBoxVisible,ElementName=Root}" 
			   x:Name="PopupResults" >
			<ListBox x:Name="ResultsListBox" 
					 ItemsSource="{Binding ItemListBySearchTerm, ElementName=Root}"
					 IsVisible="{Binding IsListBoxVisible, ElementName=Root}"
					 SelectionChanged="OnListBoxSelectionChanged"
					 SelectedItem="{Binding SelectedItem, ElementName=Root}"
				     MaxHeight="300"
					 ScrollViewer.VerticalScrollBarVisibility="Auto"
					 >
				<ListBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding}" />
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
			</Popup>
		</StackPanel>
	
	
</UserControl>
